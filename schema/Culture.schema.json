{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "/Culture.schema.json",
  "$ref": "#/definitions/Culture",
  "definitions": {
    "Culture": {
      "title": "Culture",
      "type": "object",
      "properties": {
        "id": {
          "description": "An unique, increasing integer.",
          "type": "integer",
          "minimum": 1
        },
        "language": {
          "description": "A list of native languages (usually it is only one).",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Language"
          },
          "minItems": 1
        },
        "script": {
          "description": "A list of native scripts (usually it is only one). If the culture does not\nuse any script, leave this field empty.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Script"
          },
          "minItems": 1
        },
        "area_knowledge": {
          "description": "If the area knowledge has a fixed value or can be adjusted.",
          "$ref": "#/definitions/AreaKnowledge"
        },
        "social_status": {
          "description": "A list of possible social status in the respective culture.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/SocialStatus"
          },
          "minItems": 1
        },
        "common_professions": {
          "description": "A list of professions that are typical for the culture, as well as\nprofessions that are rarely practiced or encountered in the culture. The\nlist is either defined by group (as multiple lists) or plain (as a single\nlist).",
          "$ref": "#/definitions/CommonProfessions/Config"
        },
        "common_advantages": {
          "description": "A list of common advantages.",
          "type": "array",
          "items": {
            "$ref": "./_CommonnessRatedAdvantageDisadvantage.schema.json#/definitions/CommonnessRatedAdvantageDisadvantage"
          },
          "minItems": 1
        },
        "common_disadvantages": {
          "description": "A list of common disadvantages.",
          "type": "array",
          "items": {
            "$ref": "./_CommonnessRatedAdvantageDisadvantage.schema.json#/definitions/CommonnessRatedAdvantageDisadvantage"
          },
          "minItems": 1
        },
        "uncommon_advantages": {
          "description": "A list of uncommon advantages.",
          "type": "array",
          "items": {
            "$ref": "./_CommonnessRatedAdvantageDisadvantage.schema.json#/definitions/CommonnessRatedAdvantageDisadvantage"
          },
          "minItems": 1
        },
        "uncommon_disadvantages": {
          "description": "A list of uncommon disadvantages.",
          "type": "array",
          "items": {
            "$ref": "./_CommonnessRatedAdvantageDisadvantage.schema.json#/definitions/CommonnessRatedAdvantageDisadvantage"
          },
          "minItems": 1
        },
        "common_skills": {
          "description": "A list of common skills.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/CommonnessRatedSkill"
          },
          "minItems": 1
        },
        "uncommon_skills": {
          "description": "A list of uncommon skills.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/CommonnessRatedSkill"
          },
          "minItems": 1
        },
        "cultural_package": {
          "description": "The skill points you get for buying the culture package.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/CulturalPackageItem"
          },
          "minItems": 1
        },
        "src": {
          "$ref": "./source/_PublicationRef.schema.json#/definitions/PublicationRefs"
        },
        "translations": {
          "description": "All translations for the entry, identified by IETF language tag (BCP47).",
          "type": "object",
          "patternProperties": {
            "^[a-z]{2}-[A-Z]{2}$": {
              "$ref": "#/definitions/Translation"
            }
          },
          "minProperties": 1,
          "additionalProperties": false
        }
      },
      "required": [
        "id",
        "language",
        "area_knowledge",
        "social_status",
        "common_professions",
        "common_skills",
        "cultural_package",
        "src",
        "translations"
      ],
      "additionalProperties": false
    },
    "Language": {
      "type": "object",
      "properties": {
        "id": {
          "description": "The language's identifier.",
          "type": "integer",
          "minimum": 1
        }
      },
      "required": [
        "id"
      ],
      "additionalProperties": false
    },
    "Script": {
      "type": "object",
      "properties": {
        "id": {
          "description": "The script's identifier.",
          "type": "integer",
          "minimum": 1
        }
      },
      "required": [
        "id"
      ],
      "additionalProperties": false
    },
    "AreaKnowledge": {
      "description": "If the area knowledge has a fixed value or can be adjusted.",
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "tag": {
              "const": "Fixed"
            }
          },
          "required": [
            "tag"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "tag": {
              "const": "Adjustable"
            }
          },
          "required": [
            "tag"
          ],
          "additionalProperties": false
        }
      ]
    },
    "SocialStatus": {
      "type": "object",
      "properties": {
        "id": {
          "description": "The social status's identifier.",
          "type": "integer",
          "minimum": 1
        }
      },
      "required": [
        "id"
      ],
      "additionalProperties": false
    },
    "CommonProfessions": {
      "Profession": {
        "type": "object",
        "properties": {
          "id": {
            "description": "The profession's identifier.",
            "type": "integer",
            "minimum": 1
          }
        },
        "required": [
          "id"
        ],
        "additionalProperties": false
      },
      "ProfessionVariant": {
        "type": "object",
        "properties": {
          "id": {
            "description": "The profession variant's identifier.",
            "type": "integer",
            "minimum": 1
          }
        },
        "required": [
          "id"
        ],
        "additionalProperties": false
      },
      "Plain": {
        "Constraint": {
          "type": "object",
          "properties": {
            "tag": {
              "const": "Profession"
            },
            "id": {
              "description": "The profession's identifier.",
              "type": "integer",
              "minimum": 1
            }
          },
          "required": [
            "tag",
            "id"
          ],
          "additionalProperties": false
        },
        "T": {
          "description": "A plain list of professions.",
          "type": "object",
          "properties": {
            "tag": {
              "const": "Plain"
            },
            "constraints": {
              "description": "The list of professions.",
              "type": "array",
              "items": {
                "$ref": "#/definitions/CommonProfessions/Plain/Constraint"
              },
              "minItems": 1
            }
          },
          "required": [
            "tag",
            "constraints"
          ],
          "additionalProperties": false
        }
      },
      "Grouped": {
        "Constraints": {
          "WeightedVariants": {
            "description": "Some profession variants are more common than others. There may be\ncultures where some variants are not represented at all.",
            "type": "object",
            "properties": {
              "variants": {
                "description": "The list of more common variants.",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/CommonProfessions/ProfessionVariant"
                },
                "minItems": 1
              },
              "weight": {
                "description": "The \"weight\" difference compared to other variants. Some variants are\nsimply more common (Mostly), but sometimes only specific variants are\nused (Only).",
                "$ref": "#/definitions/CommonProfessions/Grouped/Weight"
              }
            },
            "required": [
              "variants",
              "weight"
            ],
            "additionalProperties": false
          },
          "Profession": {
            "type": "object",
            "properties": {
              "tag": {
                "const": "Profession"
              },
              "id": {
                "description": "The profession's identifier.",
                "type": "integer",
                "minimum": 1
              },
              "weighted_variants": {
                "description": "Some profession variants are more common than others. There may be\ncultures where some variants are not represented at all.",
                "$ref": "#/definitions/CommonProfessions/Grouped/Constraints/WeightedVariants"
              },
              "rarity": {
                "description": "Some professions may be found in a culture, but are not that\ncommon.",
                "$ref": "#/definitions/CommonProfessions/Grouped/Rarity"
              }
            },
            "required": [
              "tag",
              "id"
            ],
            "additionalProperties": false
          }
        },
        "Weight": {
          "description": "The \"weight\" difference compared to other variants. Some variants are\nsimply more common (Mostly), but sometimes only specific variants are\nused (Only).",
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "tag": {
                  "const": "Mostly"
                }
              },
              "required": [
                "tag"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "tag": {
                  "const": "Only"
                }
              },
              "required": [
                "tag"
              ],
              "additionalProperties": false
            }
          ]
        },
        "Rarity": {
          "description": "Some professions may be found in a culture, but are not that common.",
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "tag": {
                  "const": "Rare"
                }
              },
              "required": [
                "tag"
              ],
              "additionalProperties": false
            },
            {
              "type": "object",
              "properties": {
                "tag": {
                  "const": "VeryRare"
                }
              },
              "required": [
                "tag"
              ],
              "additionalProperties": false
            }
          ]
        },
        "Mundane": {
          "ProfessionSubgroup": {
            "description": "Some professions may be found in a culture, but are not that common.",
            "oneOf": [
              {
                "type": "object",
                "properties": {
                  "tag": {
                    "const": "Profane"
                  }
                },
                "required": [
                  "tag"
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "tag": {
                    "const": "Fighter"
                  }
                },
                "required": [
                  "tag"
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "tag": {
                    "const": "Religious"
                  }
                },
                "required": [
                  "tag"
                ],
                "additionalProperties": false
              }
            ]
          },
          "Constraint": {
            "oneOf": [
              {
                "$ref": "#/definitions/CommonProfessions/Grouped/Constraints/Profession"
              },
              {
                "type": "object",
                "properties": {
                  "tag": {
                    "const": "ProfessionSubgroup"
                  },
                  "subgroup": {
                    "$ref": "#/definitions/CommonProfessions/Grouped/Mundane/ProfessionSubgroup"
                  }
                },
                "required": [
                  "tag",
                  "subgroup"
                ],
                "additionalProperties": false
              }
            ]
          },
          "Operation": {
            "description": "This defines how the list of constraints should be offset against the\nlist of all mundane professions: Either only the professions are kept\nthat intersect with the constraints (include) or only the professions\nare kept that are different from the constraints (exclude).",
            "oneOf": [
              {
                "type": "object",
                "properties": {
                  "tag": {
                    "const": "Intersection"
                  }
                },
                "required": [
                  "tag"
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "tag": {
                    "const": "Difference"
                  }
                },
                "required": [
                  "tag"
                ],
                "additionalProperties": false
              }
            ]
          },
          "T": {
            "description": "A list of professions. The filter specifies how the list is applied to\nall mundane professions.",
            "type": "object",
            "properties": {
              "constraints": {
                "description": "The list of professions.",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/CommonProfessions/Grouped/Mundane/Constraint"
                },
                "minItems": 1
              },
              "operation": {
                "description": "This defines how the list of constraints should be offset against the\nlist of all mundane professions: Either only the professions are kept\nthat intersect with the constraints (include) or only the professions\nare kept that are different from the constraints (exclude).",
                "$ref": "#/definitions/CommonProfessions/Grouped/Mundane/Operation"
              }
            },
            "required": [
              "constraints",
              "operation"
            ],
            "additionalProperties": false
          }
        },
        "Magic": {
          "WeightedProfessions": {
            "description": "Some professions are more common than others. There may be cultures\nwhere some professions are not represented at all.",
            "type": "object",
            "properties": {
              "professions": {
                "description": "The list of more common variants.",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/CommonProfessions/Profession"
                },
                "minItems": 1
              },
              "weight": {
                "description": "The \"weight\" difference compared to other professions. Some\nprofessions are simply more common (Mostly), but sometimes only\nspecific professions are used (Only).",
                "$ref": "#/definitions/CommonProfessions/Grouped/Weight"
              }
            },
            "required": [
              "professions",
              "weight"
            ],
            "additionalProperties": false
          },
          "Constraint": {
            "oneOf": [
              {
                "type": "object",
                "properties": {
                  "tag": {
                    "const": "Tradition"
                  },
                  "id": {
                    "description": "The magical tradition's identifier.",
                    "type": "integer",
                    "minimum": 1
                  },
                  "weighted_professions": {
                    "description": "Some professions are more common than others. There may be cultures\nwhere some professions are not represented at all.",
                    "$ref": "#/definitions/CommonProfessions/Grouped/Magic/WeightedProfessions"
                  },
                  "rarity": {
                    "description": "Some traditions may be found in a culture, but are not that common.",
                    "$ref": "#/definitions/CommonProfessions/Grouped/Rarity"
                  }
                },
                "required": [
                  "tag",
                  "id"
                ],
                "additionalProperties": false
              },
              {
                "type": "object",
                "properties": {
                  "tag": {
                    "const": "MagicDilettante"
                  }
                },
                "required": [
                  "tag"
                ],
                "additionalProperties": false
              },
              {
                "$ref": "#/definitions/CommonProfessions/Grouped/Constraints/Profession"
              }
            ]
          },
          "T": {
            "type": "object",
            "properties": {
              "constraints": {
                "description": "The list of professions.",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/CommonProfessions/Grouped/Magic/Constraint"
                },
                "minItems": 1
              }
            },
            "required": [
              "constraints"
            ],
            "additionalProperties": false
          }
        },
        "Blessed": {
          "Constraint": {
            "type": "object",
            "properties": {
              "tag": {
                "const": "Tradition"
              },
              "id": {
                "description": "The blessed tradition's identifier.",
                "type": "integer",
                "minimum": 1
              },
              "rarity": {
                "description": "Some traditions may be found in a culture, but are not that common.",
                "$ref": "#/definitions/CommonProfessions/Grouped/Rarity"
              }
            },
            "required": [
              "tag",
              "id"
            ],
            "additionalProperties": false
          },
          "T": {
            "type": "object",
            "properties": {
              "constraints": {
                "description": "The list of professions.",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/CommonProfessions/Grouped/Blessed/Constraint"
                },
                "minItems": 1
              }
            },
            "required": [
              "constraints"
            ],
            "additionalProperties": false
          }
        },
        "T": {
          "description": "Lists of professions by group.",
          "type": "object",
          "properties": {
            "tag": {
              "const": "Grouped"
            },
            "mundane": {
              "description": "A list of professions. The filter specifies how the list is applied to\nall mundane professions.",
              "$ref": "#/definitions/CommonProfessions/Grouped/Mundane/T"
            },
            "magic": {
              "$ref": "#/definitions/CommonProfessions/Grouped/Magic/T"
            },
            "blessed": {
              "$ref": "#/definitions/CommonProfessions/Grouped/Blessed/T"
            }
          },
          "required": [
            "tag"
          ],
          "minProperties": 2,
          "additionalProperties": false
        }
      },
      "Config": {
        "description": "A list of professions that are typical for the culture, as well as\nprofessions that are rarely practiced or encountered in the culture. The\nlist is either defined by group (as multiple lists) or plain (as a single\nlist).",
        "oneOf": [
          {
            "$ref": "#/definitions/CommonProfessions/Plain/T"
          },
          {
            "$ref": "#/definitions/CommonProfessions/Grouped/T"
          }
        ]
      }
    },
    "CommonnessRatedSkill": {
      "type": "object",
      "properties": {
        "id": {
          "description": "The skill's identifier.",
          "type": "integer",
          "minimum": 1
        }
      },
      "required": [
        "id"
      ],
      "additionalProperties": false
    },
    "CulturalPackageItem": {
      "type": "object",
      "properties": {
        "id": {
          "description": "The skill's identifier.",
          "type": "integer",
          "minimum": 1
        },
        "points": {
          "description": "The skill points for the respective skill you get for buying the cultural\npackage.",
          "type": "integer",
          "maximum": 2,
          "minimum": 1
        }
      },
      "required": [
        "id",
        "points"
      ],
      "additionalProperties": false
    },
    "Translation": {
      "type": "object",
      "properties": {
        "name": {
          "description": "The name of the state.",
          "type": "string",
          "minLength": 1
        },
        "area_knowledge": {
          "description": "The description of the area knowledge.",
          "$ref": "#/definitions/AreaKnowledgeTranslation"
        },
        "common_advantages": {
          "description": "The respective common advantages text from the source book.",
          "type": "string",
          "minLength": 1
        },
        "common_disadvantages": {
          "description": "The respective common disadvantages text from the source book.",
          "type": "string",
          "minLength": 1
        },
        "uncommon_advantages": {
          "description": "The respective uncommon advantages text from the source book.",
          "type": "string",
          "minLength": 1
        },
        "uncommon_disadvantages": {
          "description": "The respective uncommon disadvantages text from the source book.",
          "type": "string",
          "minLength": 1
        },
        "common_names": {
          "description": "Structured description of common names.",
          "$ref": "#/definitions/CommonNames"
        },
        "errata": {
          "$ref": "./source/_Erratum.schema.json#/definitions/Errata"
        }
      },
      "required": [
        "name",
        "area_knowledge",
        "common_names"
      ],
      "additionalProperties": false
    },
    "AreaKnowledgeTranslation": {
      "description": "Description and examples of the area knowledge.",
      "type": "object",
      "properties": {
        "description": {
          "description": "The full description without examples in parenthesis.",
          "type": "string",
          "minLength": 1
        },
        "abbreviated": {
          "description": "A shorter version of the description, used in input fields and other UI\nelements where the space might be to small to use the full description.",
          "type": "string",
          "minLength": 1
        },
        "examples": {
          "description": "Examples of areas, if applicable.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/AreaKnowledgeExample"
          },
          "minItems": 1
        }
      },
      "required": [
        "description",
        "abbreviated"
      ],
      "additionalProperties": false
    },
    "AreaKnowledgeExample": {
      "type": "string",
      "minLength": 1
    },
    "CommonNames": {
      "description": "Structured description of common names.",
      "type": "object",
      "properties": {
        "first_name_groups": {
          "description": "First names can be gender-neutral, but they can also be for a specific\nbinary sex. They are sorted into groups.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/NameGroup"
          },
          "minItems": 1
        },
        "last_name_groups": {
          "description": "Last names can be gender-neutral, like family names, but they can also be\nfor a specific binary sex. They are sorted into groups.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/NameGroup"
          },
          "minItems": 1
        },
        "naming_rules": {
          "description": "Special naming rules.",
          "type": "string",
          "minLength": 1
        }
      },
      "required": [],
      "minProperties": 1,
      "additionalProperties": false
    },
    "NameGroup": {
      "type": "object",
      "properties": {
        "label": {
          "description": "The group label.",
          "type": "string",
          "minLength": 1
        },
        "sex": {
          "description": "The binary sex if the group is only for a certain binary sex.",
          "$ref": "./_Sex.schema.json#/definitions/BinarySex"
        },
        "names": {
          "description": "The names from the group.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Name"
          },
          "minItems": 1
        }
      },
      "required": [
        "label",
        "sex",
        "names"
      ],
      "additionalProperties": false
    },
    "Name": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "minLength": 1
        },
        "note": {
          "description": "Additional information about the name, appended in parenthesis.",
          "type": "string",
          "minLength": 1
        }
      },
      "required": [
        "name"
      ],
      "additionalProperties": false
    }
  }
}
