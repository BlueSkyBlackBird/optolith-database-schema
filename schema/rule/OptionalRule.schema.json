{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "/rule/OptionalRule.schema.json",
  "$ref": "#/$defs/OptionalRule",
  "$defs": {
    "OptionalRule": {
      "title": "Optional Rule",
      "type": "object",
      "properties": {
        "id": {
          "description": "The optional rule's identifier. An unique, increasing integer.",
          "type": "integer",
          "minimum": 1
        },
        "relevance": {
          "description": "The relevance of the optional rule for Optolith. It may be that it\ninfluences character creating but it may also just influnce the character\nsheet. If it is linked to systems in Optolith, it may be specified if this\nrule has not been implemented in Optolith yet.",
          "$ref": "#/$defs/Relevance"
        },
        "src": {
          "$ref": "../source/_PublicationRef.schema.json#/$defs/PublicationRefs"
        },
        "translations": {
          "description": "All translations for the entry, identified by IETF language tag (BCP47).",
          "type": "object",
          "patternProperties": {
            "^[a-z]{2}-[A-Z]{2}$": {
              "type": "object",
              "properties": {
                "name": {
                  "description": "The name of the optional rule.",
                  "type": "string",
                  "minLength": 1
                },
                "description": {
                  "description": "The description of the optional rule.",
                  "type": "string",
                  "minLength": 1
                },
                "errata": {
                  "$ref": "../source/_Erratum.schema.json#/$defs/Errata"
                }
              },
              "required": [
                "name",
                "description"
              ],
              "additionalProperties": false
            }
          },
          "minProperties": 1,
          "additionalProperties": false
        }
      },
      "required": [
        "id",
        "relevance",
        "src",
        "translations"
      ],
      "additionalProperties": false
    },
    "Relevance": {
      "description": "The relevance of the optional rule for Optolith. It may be that it influences\ncharacter creating but it may also just influnce the character sheet. If it\nis linked to systems in Optolith, it may be specified if this rule has not\nbeen implemented in Optolith yet.",
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "tag": {
              "const": "Extraneous"
            }
          },
          "required": [
            "tag"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "tag": {
              "const": "Linked"
            },
            "isMissingImplementation": {
              "description": "Does the optional rule have an impact on character creation or character\nsheet and this effect has not been implemented in Optolith yet? If\n`true`, the optional rule cannot be activated.",
              "type": "boolean"
            }
          },
          "required": [
            "tag"
          ],
          "additionalProperties": false
        }
      ]
    }
  }
}
